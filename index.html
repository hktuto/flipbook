<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0">
    <title>Book Test</title>
    <style>
        html, body{
            padding:0;
            margin: 0;
            overflow: hidden;
        }
        #flipbook{
            margin: 0 auto !important;
        }
        .bookContainer{
            display: grid;
            place-items: center;
            width: 100vw;
            height: 100vh;
            background: #3d3d3a;
        }
    </style>
</head>
<body>
    <div class="bookContainer">

        <div id="flipbook">
            <img src="src/img/1027-2022_AMO Summit_CN-62-HTML PDF_Page_01.jpg" />
            <img src="src/img/1027-2022_AMO Summit_CN-62-HTML PDF_Page_02.jpg" />
            <img src="src/img/1027-2022_AMO Summit_CN-62-HTML PDF_Page_03.jpg" />
            <img src="src/img/1027-2022_AMO Summit_CN-62-HTML PDF_Page_04.jpg" />
            <img src="src/img/1027-2022_AMO Summit_CN-62-HTML PDF_Page_05.jpg" />
            <img src="src/img/1027-2022_AMO Summit_CN-62-HTML PDF_Page_06.jpg" />
            <img src="src/img/1027-2022_AMO Summit_CN-62-HTML PDF_Page_07.jpg" />
            <img src="src/img/1027-2022_AMO Summit_CN-62-HTML PDF_Page_08.jpg" />
            <img src="src/img/1027-2022_AMO Summit_CN-62-HTML PDF_Page_09.jpg" />
            <img src="src/img/1027-2022_AMO Summit_CN-62-HTML PDF_Page_10.jpg" />
        </div>
    </div>
    <script src='https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.js'></script>
    <script src='src/script/turn.min.js'></script>
<script >
    var url = 'src/pdf/1027-2022_AMO Summit_CN-62-HTML PDF.pdf'; 
    var flipbook = document.getElementById('flipbook');
    var scale = 1; 
    let pdf;
    const pageMargin = 40;// 可調整
    const bookW = 552;
    const bookH = 793;
    const ratio = bookH / (bookW * 2);
    $( document ).ready(() => {
        loadApp();
        setRatio();
        updateScale();
        
    })

		
function loadApp() {
    $(flipbook).turn({
        width: bookW * 2 * scale,
        height: bookH * scale
    });
    
}

function updateScale() {
    $(flipbook).turn("size", bookW * 2 * scale, bookH * scale);
}

async function setRatio() {
    let tmpScale = (window.innerWidth - ( pageMargin * 2) )/ ( bookW * 2);
    if(bookH * tmpScale > window.innerHeight - ( pageMargin * 2) ){
        tmpScale = (window.innerHeight - ( pageMargin * 2) )/ bookH ;
    }
    // check width and cal height to finalize scale
    scale = tmpScale;
}
// 當畫面縮放時，要改變外殼大小，如果你想固定，不一定要加
window.addEventListener('resize',function(e){
    setRatio();
    updateScale();
})

</script>
</body>

</html>
